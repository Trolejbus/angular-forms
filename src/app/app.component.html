<div class="form-container">
    <form [formGroup]="submitFormGroup">
        <h1 class="amatic-bolded header-text">Plan your afternoon with us</h1>
        <div class="form-group row">
            <label for="staticEmail" class="col-sm-3 col-form-label amatic">Name and Surname *</label>
            <div class="col-sm-9">
                <div class="ui-inputgroup">
                    <span class="ui-inputgroup-addon"><i class="pi pi-user" style="line-height: 1.25;"></i></span>

                    <input type="text" pInputText placeholder="Name and Surname" formControlName="name" />

                    <small *ngIf="submitFormGroup.get('name').touched &&
                        submitFormGroup.get('name').hasError('required')" class="text-muted error-text">
                        Field is required
                    </small>
                    <small *ngIf="submitFormGroup.get('name').touched &&
                        submitFormGroup.get('name').hasError('maxlength')" class="text-muted error-text">
                        Name is to long
                     </small>

                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="staticEmail" class="col-sm-3 col-form-label amatic">Pesel</label>
            <div class="col-sm-9">
              <div class="ui-inputgroup">
                <span class="ui-inputgroup-addon"><i class="pi pi-user" style="line-height: 1.25;"></i></span>
                <input type="text" pInputText placeholder="Pesel" formControlName="pesel">
                <small *ngIf="submitFormGroup.get('pesel').touched &&
                        submitFormGroup.get('pesel').hasError('required')" class="text-muted error-text">
                    This field is required
                </small>
              </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="staticEmail" class="col-sm-3 col-form-label amatic">Birth date</label>
            <div class="col-sm-9">
              <div class="ui-inputgroup">
                <span class="ui-inputgroup-addon"><i class="pi pi-user" style="line-height: 1.25;"></i></span>
                <p-calendar class="birth-date" formControlName="birthdate" [dateFormat]="'yy/mm/dd'"></p-calendar>
                <small *ngIf="submitFormGroup.hasError('invalid-birthDate-pesel-connection')" class="text-muted error-text">
                    PESEL and birth date are invalid
                </small>
                <small *ngIf="submitFormGroup.get('pesel').touched &&
                        submitFormGroup.get('pesel').hasError('required')" class="text-muted error-text">
                    This field is required
                </small>
            </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="staticEmail" class="col-sm-3 col-form-label amatic">Email</label>
            <div class="col-sm-9">
                <div class="ui-inputgroup">
                    <span class="ui-inputgroup-addon"><i class="pi pi-envelope" style="line-height: 1.25;"></i></span>             
                    <input type="text" pInputText placeholder="Email" formControlName="email">
                    <span class="ui-inputgroup-addon"><i class="pi {{getEmailIcon()}}" style="line-height: 1.25;"></i></span>    
                </div>
                    
                <p>
                    <small class="text-muted">
                        Wpisz swojego maila, a otrzymasz przypomnienie, oraz dodatkowe materia≈Çy.
                    </small>
                </p>
                <small *ngIf="submitFormGroup.get('email').touched &&
                    submitFormGroup.get('email').hasError('required')" class="text-muted error-text">
                    This field is required
                </small>
                <small *ngIf="submitFormGroup.get('email').hasError('emailExists')" class="text-muted error-text">
                    Email is already in use
                </small>
                
            </div>
        </div>

        <div class="form-group row">
            <label for="staticEmail" class="col-sm-3 col-form-label amatic">From</label>
            <div class="col-sm-9">
                <div class="ui-inputgroup">
                    <span class="ui-inputgroup-addon"><i class="pi pi-user" style="line-height: 1.25;"></i></span>
                    <input type="text" pInputText placeholder="from" formControlName="from">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="staticEmail" class="col-sm-3 col-form-label amatic">To</label>
            <div class="col-sm-9">
                <div class="ui-inputgroup">
                    <span class="ui-inputgroup-addon"><i class="pi pi-user" style="line-height: 1.25;"></i></span>
                    <input type="text" pInputText placeholder="to" formControlName="to">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-3 col-form-label amatic">Who are you?</label>
            <div class="col-sm-9">
                <app-picture-component formControlName="type"></app-picture-component>        
            </div>
        </div>
   
        <div class="clearfix"></div>

        <app-couple *ngIf="submitFormGroup.get('couple') != null" [formGroup]="submitFormGroup.get('couple')"></app-couple>
        <app-girl *ngIf="submitFormGroup.get('girl') != null" [formGroup]="submitFormGroup.get('girl')"></app-girl>
        <app-boy *ngIf="submitFormGroup.get('boy') != null" [formGroup]="submitFormGroup.get('boy')"></app-boy>
    
        <div class="button-container">

            <p-button
                label="Test"
                [styleClass]="ui-button-secondary"
                (click)="test($event)"></p-button>
            <p-button
                label="Clear"
                [styleClass]="ui-button-secondary"
                (click)="clear($event)"></p-button>
            <p-button
                [disabled]="submitFormGroup.invalid"
                class="submit-button"
                [styleClass]="submitting ? 'ui-button-secondary' : 'ui-button-primary'"
                [label]="submitting ? 'Submitting' : 'Submit'"
                [icon]="submitting ? 'pi pi-spin pi-spinner' : 'pi pi-check'"
                iconPos="left"
                (click)="submit($event)"></p-button>
        </div>

    </form>
</div>